# 测试文档 - 网站管理员相关

[TOC]

## 1. 单元测试

### 1.1 用户界面层单元测试

#### 1.1.1 页面显示与跳转测试
```
   - 账户管理界面
      - 绑定酒店模态框
      - 删除用户确认框
      - 添加用户模态框
   - 酒店管理界面
      - 添加酒店模态框
      - 删除酒店确认框
   测试结果：通过
```
#### 1.1.2 功能测试

##### 1.1.2.1 向业务层请求查看酒店工作人员列表

| 触发条件                     | 参数 | 预期结果                              | 测试结果 |
| ---------------------------- | ---- | ------------------------------------- | -------- |
| 首次访问 账户管理 界面       | 无   | 浏览器向服务器发起 /Managers POST请求 | 通过     |
| 点击‘酒店工作人员管理’选项卡 | 无   | 浏览器向服务器发起 /Managers POST请求 | 通过     |
| 完成‘添加酒店工作人员’操作   | 无   | 浏览器向服务器发起 /Managers POST请求 | 通过     |

##### 1.1.2.2 收集并向业务层请求添加酒店工作人员信息

| 触发条件                         | 参数           | 预期结果                                 | 测试结果 |
| -------------------------------- | -------------- | ---------------------------------------- | -------- |
| 在添加酒店工作人员模态框点击确定 | 收集的表单信息 | 浏览器向服务器发起 /new-Manager POST请求 | 通过     |

测试数据：
> - 用户邮箱：12345@qq.com      
> - 用户名：HotelManager1
> - 用户密码：123456

##### 1.1.2.3 向业务层请求删除指定酒店管理员

| 触发条件                         | 参数           | 预期结果                                | 测试结果 |
| -------------------------------- | -------------- | --------------------------------------- | -------- |
| 在删除酒店工作人员确认框点击确定 | 收集的表单信息 | 浏览器向服务器发起 /rm-user POST请求 | 通过     |

##### 1.1.2.4 向业务层请求查看网站营销人员列表

| 触发条件                     | 参数 | 预期结果                              | 测试结果 |
| ---------------------------- | ---- | ------------------------------------- | -------- |
| 点击‘网站营销人员管理’选项卡 | 无   | 浏览器向服务器发起 /marketers GET请求 | 通过     |
| 完成‘添加网站营销人员’操作   | 无   | 浏览器向服务器发起 /marketers GET请求 | 通过     |

##### 1.1.2.5 收集并向业务层请求添加网站营销人员信息

| 触发条件                         | 参数           | 预期结果                         | 测试结果 |
| -------------------------------- | -------------- | -------------------------------- | -------- |
| 在添加网站营销人员模态框点击确定 | 收集的表单信息 | 浏览器向服务器发起 /new POST请求 | 通过     |

测试数据：
> - 用户邮箱：busi@qq.com
> - 用户名：busi1
> - 用户密码：123456
> - 用户手机号：12345678919

##### 1.1.2.6 向业务层请求查看酒店列表

| 触发条件             | 参数 | 预期结果                        | 测试结果 |
| -------------------- | ---- | ------------------------------- | -------- |
| 点击‘酒店管理’选项卡 | 无   | 浏览器向服务器发起 /all GET请求 | 通过     |
| 完成‘添加酒店’操作   | 无   | 浏览器向服务器发起 /all GET请求 | 通过     |

##### 1.1.2.7 收集并向业务层请求添加酒店

| 触发条件                 | 参数           | 预期结果                              | 测试结果 |
| ------------------------ | -------------- | ------------------------------------- | -------- |
| 在添加酒店模态框点击确定 | 收集的表单信息 | 浏览器向服务器发起 /addHotel POST请求 | 通过     |

测试数据：
> - 酒店名：添加酒店测试
> - 酒店地址：南京市仙林大道163号
> - 酒店星级：五星级
> - 手机号：123456
> - 酒店简介：好酒店

##### 1.1.2.8 向业务层请求查看与指定酒店管理员绑定的酒店信息

| 触发条件                     | 参数   | 预期结果                               | 测试结果 |
| ---------------------------- | ------ | -------------------------------------- | -------- |
| 在绑定酒店模态框点击绑定     | userId | 浏览器向服务器发起 /by-manager GET请求 | 通过     |
| 点击绑定酒店按钮             | userId | 浏览器向服务器发起/by-manager GET请求  | 通过     |
| 再绑定酒店模态框点击取消绑定 | userId | 浏览器向服务器发起/by-manager GET请求  | 通过     |

##### 1.1.2.9 向业务层请求查看无酒店管理员的酒店信息

| 触发条件                     | 参数   | 预期结果                               | 测试结果 |
| ---------------------------- | ------ | -------------------------------------- | -------- |
| 在绑定酒店模态框点击绑定     | userId | 浏览器向服务器发起 /by-manager GET请求 | 通过     |
| 点击绑定酒店按钮             | userId | 浏览器向服务器发起/by-manager GET请求  | 通过     |
| 再绑定酒店模态框点击取消绑定 | userId | 浏览器向服务器发起/by-manager GET请求  | 通过     |

### 1.2 业务逻辑层单元测试

#### 1.2.1 功能测试

##### 1.2.1.1 向业务层提供从数据层获取的酒店工作人员列表

| 触发条件            | 参数 | 预期结果                                     | 测试结果 |
| ------------------- | ---- | -------------------------------------------- | -------- |
| 收到 /Managers 请求 | 无   | 向数据层请求所有酒店工作人员信息并返回给请求 | 通过     |

##### 1.2.1.2 向数据层请求存储从业务层获取的酒店工作人员信息

| 触发条件               | 参数     | 预期结果                 | 测试结果 |
| ---------------------- | -------- | ------------------------ | -------- |
| 收到 /new-Manager 请求 | userForm | 向数据层请求存储用户信息 | 通过     |

##### 1.1.2.3 向业务层请求删除指定酒店管理员

| 触发条件                         | 参数           | 预期结果                                | 测试结果 |
| -------------------------------- | -------------- | --------------------------------------- | -------- |
| 收到/rm-user请求 | id   | 向数据层请求删除用户 | 通过     |

##### 1.2.1.4 向业务层提供从数据层获取的网站营销人员列表
| 触发条件             | 参数 | 预期结果                                     | 测试结果 |
| -------------------- | ---- | -------------------------------------------- | -------- |
| 收到 /merketers 请求 | 无   | 向数据层请求所有网站营销人员信息并返回给请求 | 通过     |

##### 1.2.1.5 向数据层请求存储从业务层获取的网站营销人员信息
| 触发条件       | 参数       | 预期结果                 | 测试结果 |
| -------------- | ---------- | ------------------------ | -------- |
| 收到 /new 请求 | userFormVO | 向数据层请求存储用户信息 | 通过     |

##### 1.2.1.6 向业务层提供从数据层获取的酒店列表
| 触发条件       | 参数 | 预期结果                             | 测试结果 |
| -------------- | ---- | ------------------------------------ | -------- |
| 收到 /all 请求 | 无   | 向数据层请求所有酒店信息并返回给请求 | 通过     |

##### 1.2.1.7 向数据层请求存储从业务层获取的酒店信息
| 触发条件            | 参数    | 预期结果                 | 测试结果 |
| ------------------- | ------- | ------------------------ | -------- |
| 收到 /addHotel 请求 | HotelVO | 向数据层请求存储酒店信息 | 通过     |

##### 1.2.1.8 向业务层提供从数据层获取的与酒店管理员绑定的酒店信息
| 触发条件              | 参数      | 预期结果                                 | 测试结果 |
| --------------------- | --------- | ---------------------------------------- | -------- |
| 收到 /by-manager 请求 | managerId | 向数据层请求id对应的酒店信息并返回给请求 | 通过     |

##### 1.2.1.9 向业务层提供从数据层获取的没有进行绑定的酒店信息
| 触发条件              | 参数                             | 预期结果                     | 测试结果 |
| --------------------- | -------------------------------- | ---------------------------- | -------- |
| 收到 /by-manager 请求 | id,password,username,phonenumber | 向数据层请求未绑定的酒店信息 | 通过     |

### 1.3 数据层单元测试

#### 1.3.1 功能测试

##### 1.3.1.1 向业务层提供酒店工作人员列表

| 触发条件                 | 参数 | 预期结果                         | 测试结果 |
| ------------------------ | ---- | -------------------------------- | -------- |
| 调用 getAllManagers 方法 | 无   | 返回数据库中所有酒店工作人员信息 | 通过     |

##### 1.3.1.2 存储从业务层获取的酒店工作人员信息

| 触发条件             | 参数     | 预期结果               | 测试结果 |
| -------------------- | -------- | ---------------------- | -------- |
| 收到 addManager 请求 | UserForm | 存储用户信息至 User 表 | 通过     |

##### 1.2.1.3 删除数据层中的指定用户

| 触发条件             | 参数 | 预期结果               | 测试结果 |
| -------------------- | ---- | ---------------------- | -------- |
| 调用  deleteUser方法 | id   | 删除数据库中指定的用户 | 通过     |

##### 1.2.1.4 向业务层提供网站营销人员列表

| 触发条件                  | 参数 | 预期结果                         | 测试结果 |
| ------------------------- | ---- | -------------------------------- | -------- |
| 调用  getAllMarketers方法 | 无   | 返回数据库中所有网站营销人员信息 | 通过     |

##### 1.2.1.5 存储从业务层获取的网站营销人员信息

| 触发条件               | 参数     | 预期结果               | 测试结果 |
| ---------------------- | -------- | ---------------------- | -------- |
| 调用createMarketer方法 | UserForm | 存储用户信息至 User 表 | 通过     |

##### 1.2.1.6 向业务层提供酒店列表

| 触发条件                    | 参数 | 预期结果                 | 测试结果 |
| --------------------------- | ---- | ------------------------ | -------- |
| 调用 retrieveAllHotels 方法 | 无   | 返回数据库中所有酒店信息 | 通过     |

##### 1.2.1.7 存储从业务层获取的酒店信息

| 触发条件             | 参数          | 预期结果              | 测试结果 |
| -------------------- | ------------- | --------------------- | -------- |
| 收到 createHotel请求 | hotelServiceI | 存储酒店信息至Hotel表 | 通过     |

##### 1.2.1.8 向业务层提供从数据层获取的指定管理员绑定的酒店

| 触发条件                   | 参数 | 预期结果                     | 测试结果 |
| -------------------------- | ---- | ---------------------------- | -------- |
| 调用 getHotelByManager方法 | id   | 返回绑定指定酒店管理员的酒店 | 通过     |

##### 1.2.1.9 向业务层提供没有被绑定的酒店信息 ‘信息

| 触发条件                    | 参数 | 预期结果               | 测试结果 |
| --------------------------- | ---- | ---------------------- | -------- |
| 收到 getHotelByManager 请求 | -1   | 返回所有没有绑定的酒店 | 通过     |

## 2. 集成测试

### 2.1 功能测试

#### 2.1.1 查看酒店工作人员列表

| 触发条件                   | 参数 | 预期结果                       | 测试结果 |
| -------------------------- | ---- | ------------------------------ | -------- |
| 首次访问managerUser界面    | 无   | 显示系统存储的酒店工作人员信息 | 通过     |
| 点击酒店工作人员管理选项卡 | 无   | 显示系统存储的酒店工作人员信息 | 通过     |

#### 2.1.2 收集并向业务层请求添加酒店工作人员信息

| 触发条件                           | 参数             | 预期结果                     | 测试结果 |
| ---------------------------------- | ---------------- | ---------------------------- | -------- |
| 点击添加酒店工作人员按钮并填写表单 | 酒店工作人员信息 | 列表中显示新增的工作人员信息 | 通过     |

#### 2.1.3 删除指定用户

| 触发条件                               | 参数   | 预期结果               | 测试结果 |
| -------------------------------------- | ------ | ---------------------- | -------- |
| 点击删除酒店管理员或是删除网站营销人员 | 用户Id | 删除数据库中的指定用户 | 通过     |

#### 2.1.4 向业务层请求查看网站营销人员列表

| 触发条件                   | 参数 | 预期结果                       | 测试结果 |
| -------------------------- | ---- | ------------------------------ | -------- |
| 点击网站营销人员管理选项卡 | 无   | 显示系统存储的网站营销人员信息 | 通过     |

#### 2.1.5 收集并向业务层请求添加网站营销人员信息

| 触发条件                           | 参数             | 预期结果                     | 测试结果 |
| ---------------------------------- | ---------------- | ---------------------------- | -------- |
| 点击添加网站营销人员按钮并填写表单 | 网站营销人员信息 | 列表中显示新增的营销人员信息 | 通过     |

#### 2.1.6 向业务层请求查看酒店列表

| 触发条件           | 参数 | 预期结果               | 测试结果 |
| ------------------ | ---- | ---------------------- | -------- |
| 点击酒店管理选项卡 | 无   | 显示系统存储的酒店信息 | 通过     |

#### 2.1.7 收集并向业务层请求添加酒店信息

| 触发条件                   | 参数     | 预期结果                 | 测试结果 |
| -------------------------- | -------- | ------------------------ | -------- |
| 点击添加酒店按钮并填写表单 | 酒店信息 | 列表中显示新增的酒店信息 | 通过     |

#### 2.1.8 向业务层请求指定管理员对应的酒店

| 触发条件     | 参数             | 预期结果                 | 测试结果 |
| ------------ | ---------------- | ------------------------ | -------- |
| 点击绑定按钮 | 酒店管理员用户id | 显示指定管理员对应的酒店 | 通过     |

#### 2.1.9 向业务层请求查看为被绑定的酒店

| 触发条件     | 参数     | 预期结果           | 测试结果 |
| ------------ | -------- | ------------------ | -------- |
| 点击绑定按钮 | 个人信息 | 显示未被绑定的酒店 | 通过     |

## 3. 文档修改历史

| 修改人员 | 日期       | 修改原因                                             | 版本号 |
| :------: | ---------- | ---------------------------------------------------- | ------ |
|  戴俊浩  | 2020.6.30 | 完成系统管理员测试文档              | v1.0 |